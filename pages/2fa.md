# Two Factor Authentication

Two factor authentication (2FA) must be enabled on your CCR account or you will
not be able to login to any CCR resources. We support OTP, which stands for
One-Time Passcodes and is a common form of two factor authentication (2FA). OTP
is also known as app based authentication, software tokens, or soft tokens
where an app on your phone will generate unique numeric passcodes as a second
factor to provide increased account security.

## Enabling Two Factor Authentication

!!! Tip "Changing phones?" 
    You can add multiple OTP tokens to your account. Be sure
    to add a token for your new phone before you get rid of your old phone. If
    you won't have access to both devices, disable 2FA on your CCR account
    prior to swapping phones. When you get your new phone re-enable 2FA.  

To enable two factor authentication on your account, follow these easy steps:

1. Install an authenticator app on your phone. Authentication apps like Authy,
   Google Authenticator, and Duo are supported. We recommend Duo as it's also used by UBIT.

2. Login to CCR IDM portal [here](https://idm.ccr.buffalo.edu/) and click on
   [OTP Tokens](https://idm.ccr.buffalo.edu/otp) in the side menu.

3. Click on the "New Token" button and follow the directions to scan the QR
   code using your authenticator app. Enter the six digit passcode generated by the app.

You can also watch the video below which details the entire process:

![type:video](https://youtube.com/embed/BDd-J1DAwsw)  

## Logging In

You will be prompted to enter a one time passcode when authenticating to CCR's
web portals including OnDemand, ColdFront, Lake Effect cloud, and IDM. **You
must launch the authentication app on your device and enter the one time
passcode generated for your CCR account.**  These passcodes regenerate every 30
seconds. Some authentication apps display the passcodes with a space between
the first set of 3 digits and the second.  However, there should be no spaces
or extra characters between these when you enter this in the box labeled `OTP six digit code`
during login.

!!! Warning "Push Notifications are NOT supported"

    There are NO push notifications. The time based passcodes are generated on
    your device and available offline. They are never sent to you via text
    message or push notification.

You can also watch the video below which demonstrates the login process:

![type:video](https://youtube.com/embed/g6hWYooFKWE)

## Troubleshooting

If you're still having trouble with two factor authentication, check the following:

- Be sure you enter the six digit code from your authenticator app. Remember they
  change every 30 seconds.
- If you recently changed phones and did not setup a new OTP token on your new
  device you will be locked out of your account. Please [contact CCR Help](help.md)
  to receive instructions on how to proceed.
- If you forgot your password you can [reset it here](https://idm.ccr.buffalo.edu/auth/forgotpw).
- Please check the [FAQ](faq.md) for additional help and solutions.
