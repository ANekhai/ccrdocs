# ColdFront

ColdFront is an open source resource allocation management tool built for high performance computing centers that allows the management of Center resources
and user allocations to those resources.  CCR developed this tool to allow our users the opportunity to request and manage the access they and their students
or collaborators have to the many resources in CCR's data center.  In order to obtain access to any CCR services, you must be on an active allocation for the
resource.  Research faculty, principal investigators, and teaching faculty are able to create projects in ColdFront and request allocations to CCR resources
for themselves and their group members or students.  

Getting started with ColdFront is easy and all you need is a CCR user account.
Don't have one yet? [see here](../getting-access.md). Faculty members and principal investigators (PIs) can use ColdFront to:

- [Request an Allocation](#request-an-allocation)
- [Add or Remove users](#add-or-remove-users)
- [Complete yearly project review](#complete-yearly-project-review)  
- [Renewal Allocations](#allocation-renewals)  
- [Request Changes to Allocations](#allocation-change-requests)

If you're not a faculty member or a PI you can still [login to ColdFront](https://coldfront.ccr.buffalo.edu) and view information about the
projects you're on and what resources you have access to but you will not be able to request allocations.

!!! Warning "VPN Required"
    Access to ColdFront is restricted to UB and Roswell Park networks (either on campus or connected to their VPN services). [See here](../getting-access.md#vpn-access) for more information.

Access to [CCR resources](../available-resources.md) is managed in ColdFront using Projects and Allocations.  Projects capture information about your research including your group members, publications, grants and any allocations to resources the group has access to. Most PIs have a single project which best describes their research performed at CCR. 

## Create a Project  

All principal investigators (PIs) or professors must create at least one project in ColdFront to manage access to CCR's resources for their group or course.  If you have not already done so, you need to request that your account be upgraded to "PI Status."  To do so, login to [ColdFront](https://coldfront.ccr.buffalo.edu) and go to your user profile [here](https://coldfront.ccr.buffalo.edu/user/user-profile/).  Then click on the `Upgrade Account` button.  This generates a ticket to CCR Help and we'll respond after verifying your university status.  

Once upgraded you'll be able to create a new project and request allocations to resources.  To create a project, login to ColdFront and click on the `Add a Project` button.  Fill out the short form with a project name of your choice, select the field of science that your research generally falls under (or select `Other` if not in the list), and provide a brief description of your research.  In general, we recommend that each PI maintains only one project in ColdFront for their research group.  Therefore, a general description of your research is appropropriate here.  If you are managing a research group AND using CCR for courses, we recommend creating separate projects for your courses.  This will make it easier for you to manage the students on your projects.  Once your project is created, add your group members or students ([see here](#add-or-remove-users)) and request allocations to the resources you'd like the group to utilize ([see here](#request-an-allocation)).  Once your project has been created take a moment to add any publications, grants, or research output which helps us keep track of the scientific impact of our center.  Once per year, you'll be required to review your project and provide updates if there are any.  [See below](#complete-yearly-project-review) for details on the short yearly project review process.  


## Add or Remove users

Users can be added to or removed from your project in ColdFront. **To add a user to your project they must already have a CCR account. Please direct them to [these instructions](../getting-access.md) to create their own CCR user account.**

To add users to your project, follow these steps:

1. Login to [ColdFront](https://coldfront.ccr.buffalo.edu)
2. Click on your project
3. Under the `Users` section click the `Add User` button
4. Enter in the users' UBIT username or first/last name or email address (be sure to select `All Fields` radio button)
5. Click the `Search` button and a list of users will be displayed
6. Select the users by checking the box next to their name and click `Add selected users to project` button.

You can also remove users from your project by clicking on your project and under the `Users` section click on the `Remove User` button.

!!! Tip "Delegate Manager Role"
    When adding a user to your project you can optionally designate them as a
    "Manager" by selecting their role using the drop down next to their email.
    A "Manager" is a user who has the same permissions as the PI to add/remove
    users, request/renew allocations, add/remove project info such as grants,
    publications, and research output.  Managers may also complete the annual
    project review. You can modify a user's role at any time by clicking on
    the `Edit` button next to the user's name.

**Notifications** - all users on a project will receive notifications about allocations including reminders of upcoming expiration dates and status
changes.  Users may uncheck the box next to their username to turn off notifications.  Managers and PIs on the project are not able to turn off notifications.  

## Request an Allocation

To request an allocation to a CCR resource follow these easy steps:

1. Login to [ColdFront](https://coldfront.ccr.buffalo.edu)
2. Create a project or select an existing project
3. Under the `Allocations` section click on the `Request Resource Allocation` button
4. Select the desired resource from the drop down
5. Select the users who should have access to this allocation. To add users to your project [see here](#add-or-remove-users)
6. Enter a justification and click submit

Once you submit your allocation request it will be reviewed by center staff members and you will receive an email confirmation when it's approved.  At this point, you will have access to the resource.

**Not sure what to request an allocation for?** [Check out this for more information](../available-resources.md)  

!!! Tip "Allocation Review Process"  
    New allocation requests, allocation renewals, and allocation change requests are reviewed and activated by CCR staff once per week. You can login to ColdFront and check the status of your allocation to see what state it is in.  If your allocation status is 'New', access to the resource has not yet been granted.  Email notifications are sent when allocation statuses are updated.  


## Allocation Renewals  

Allocations are approved for a specific time period (by default this is 1 year). You will have the option to renew your allocation before the expiration date to continue using the resources. You are able to renew allocations beginning 60 days before the allocation expiration date.  Beginning 30 days prior to allocation expiration, the PI and managers of the project (as well as users with notifications enabled) will receive email reminders to renew the allocation.  **PIs and managers on projects are the only ones that can renew allocations.**  If you do not renew your allocation prior to expiration, all users on the allocation will have their access to that resource revoked.  Please refer to our [data retention policy](../policies/accounts.md#accounts-and-data-retention-policy) for more details. Once an allocation expires, it can't be renewed and you will need to request a new allocation for the resource. 

Please note that renewing allocations is a separate step from the [annual project review](#complete-yearly-project-review).  Projects must be updated once every 365 days but allocations expire at different intervals.  Sometimes you will need to review your project prior to renewing your allocations and other times you will not.  

When renewing allocations to a service that requires payment, CCR staff will use the account you previously provided to bill for the upcoming term.  If you'd like to change this, please submit an allocation change request updating the account number, or contact [CCR Help](../help.md).  Instructions can be found here:  
[HPC Storage](../howto/purchases.md#how-to-renew-an-existing-hpc-storage-purchase)  
[Cloud Compute Packages & Storage](../howto/purchases.md#renewing-cloud-purchases)  
[Supporters Boost](../howto/purchases.md#supporters-priority-boost)


## Allocation Change Requests  

To request additional HPC project storage, cloud storage or cloud compute credits, please use the allocation change request feature in ColdFront.  Navigate to your active allocation for the resource that you want to purchase more of, then click on the `Request Change` button.  Some of these services may requirement payment.  Please refer to these instructions for more info on how to fill out the allocation change request form:  

[HPC Storage](../howto/purchases.md#how-to-initiate-an-hpc-storage-purchase)  
[Cloud Compute Packages](../howto/purchases.md#cloud-compute-credits)  
[Cloud Storage](../howto/purchases.md#cloud-storage)  

**Date Extension Requests:**  
This should be used for short term extensions such as scratch storage extensions or class access beyond the end of a semester.  If your allocation is up for renewal, please use the allocation renewal process instead.


## Complete yearly project review

CCR requires the annual review of all projects.  We ask that PIs or project managers update the project description and field of science, if necessary, and
remove any users that should no longer have access.  During this review we ask that you update your grant and publication information to ensure it is
up-to-date. This information is used in reports CCR provides to UB's administration demonstrating the research and work CCR's resources enable each
year.

When your project review is required, you will see a banner at the top of the project detail page that includes a link to the project review process along
with `You need to review this project`

!!! Warning  
    New allocation requests and allocation renewals are not accepted until the project review has been submitted.  
